# ğŸ° Bastion Brotherhood

<div align="center">

[![License](https://img.shields.io/badge/license-MIT-blue.svg)](LICENSE)
[![Go Version](https://img.shields.io/badge/Go-1.21+-00ADD8?logo=go)](https://golang.org)
[![Vue Version](https://img.shields.io/badge/Vue-3.5+-4FC08D?logo=vue.js)](https://vuejs.org)
[![TypeScript](https://img.shields.io/badge/TypeScript-5.8+-3178C6?logo=typescript)](https://www.typescriptlang.org)

_ä¸€ä¸ªç°ä»£åŒ–çš„äººå‘˜ç®¡ç†ç³»ç»Ÿï¼Œæä¾›æµç•…çš„ç”¨æˆ·ä½“éªŒå’Œå¼ºå¤§çš„åç«¯åŠŸèƒ½_

[ğŸš€ åœ¨çº¿æ¼”ç¤º](https://jshub.cn) Â· [ğŸ“– æ–‡æ¡£](docs/) Â· [ğŸ› æŠ¥å‘Šé—®é¢˜](issues/) Â· [ğŸ’¡ åŠŸèƒ½è¯·æ±‚](issues/)

</div>

---

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### ğŸ¯ æ ¸å¿ƒåŠŸèƒ½

- **ğŸ‘¥ äººå‘˜ç®¡ç†** - å®Œæ•´çš„ CRUD æ“ä½œï¼Œæ”¯æŒå¤´åƒä¸Šä¼ 
- **ğŸ” æ™ºèƒ½æœç´¢** - å®æ—¶æœç´¢å’Œè¿‡æ»¤åŠŸèƒ½
- **ğŸ“± å“åº”å¼è®¾è®¡** - å®Œç¾é€‚é…æ¡Œé¢å’Œç§»åŠ¨è®¾å¤‡
- **ğŸŒ™ ä¸»é¢˜åˆ‡æ¢** - æ”¯æŒæ˜æš—ä¸»é¢˜åˆ‡æ¢
- **âš¡ é«˜æ€§èƒ½** - åŸºäºç°ä»£æŠ€æœ¯æ ˆï¼Œå¿«é€Ÿå“åº”

### ğŸ› ï¸ æŠ€æœ¯äº®ç‚¹

- **ç±»å‹å®‰å…¨** - å…¨æ ˆ TypeScript å¼€å‘
- **ç°ä»£åŠ¨ç”»** - æµç•…çš„ UI åŠ¨ç”»å’Œè¿‡æ¸¡æ•ˆæœ
- **çŠ¶æ€ç®¡ç†** - åŸºäº Pinia çš„å“åº”å¼çŠ¶æ€ç®¡ç†
- **è¡¨å•éªŒè¯** - å¼ºå¤§çš„è¡¨å•éªŒè¯å’Œé”™è¯¯å¤„ç†
- **æ–‡ä»¶ä¸Šä¼ ** - æ”¯æŒå¤´åƒä¸Šä¼ å’Œ MinIO å¯¹è±¡å­˜å‚¨

---

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### ğŸ¨ å‰ç«¯æŠ€æœ¯æ ˆ

| æŠ€æœ¯                                         | ç‰ˆæœ¬      | ç”¨é€”                  |
| -------------------------------------------- | --------- | --------------------- |
| [Vue 3](https://vuejs.org)                   | `^3.5.17` | æ¸è¿›å¼å‰ç«¯æ¡†æ¶        |
| [TypeScript](https://www.typescriptlang.org) | `^5.8`    | ç±»å‹å®‰å…¨çš„ JavaScript |
| [Vite](https://vitejs.dev)                   | `^7.0`    | ä¸‹ä¸€ä»£å‰ç«¯æ„å»ºå·¥å…·    |
| [Tailwind CSS](https://tailwindcss.com)      | `^4.1.11` | åŸå­åŒ– CSS æ¡†æ¶       |
| [Motion-v](https://motion-v.motionone.org)   | `^1.4.0`  | é«˜æ€§èƒ½åŠ¨ç”»åº“          |
| [Pinia](https://pinia.vuejs.org)             | `^3.0.3`  | Vue çŠ¶æ€ç®¡ç†åº“        |
| [Reka UI](https://reka-ui.com)               | `^2.3.2`  | æ— æ ·å¼ç»„ä»¶åº“          |
| [Shadcn-vue](https://shadcn-vue.com)         | `^1.0.0`  | åŸºäº Reka UI çš„ç»„ä»¶åº“ |

### âš™ï¸ åç«¯æŠ€æœ¯æ ˆ

| æŠ€æœ¯                                               | ç‰ˆæœ¬      | ç”¨é€”             |
| -------------------------------------------------- | --------- | ---------------- |
| [Go](https://golang.org)                           | `1.21+`   | é«˜æ€§èƒ½åç«¯è¯­è¨€   |
| [Gin](https://github.com/gin-gonic/gin)            | `^1.9.1`  | è½»é‡çº§ Web æ¡†æ¶  |
| [GORM](https://gorm.io)                            | `^1.30.0` | ORM åº“           |
| [SQLite](https://sqlite.org)                       | `^1.5.4`  | åµŒå…¥å¼æ•°æ®åº“     |
| [MinIO](https://min.io)                            | `^6.0.57` | å¯¹è±¡å­˜å‚¨æœåŠ¡     |
| [Zap](https://github.com/uber-go/zap)              | `^1.27.0` | ç»“æ„åŒ–æ—¥å¿—åº“     |
| [Snowflake](https://github.com/bwmarrin/snowflake) | `^0.3.0`  | åˆ†å¸ƒå¼ ID ç”Ÿæˆå™¨ |

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ğŸ“‹ å‰ç½®è¦æ±‚

- **Go** 1.21 æˆ–æ›´é«˜ç‰ˆæœ¬
- **Node.js** 22 æˆ–æ›´é«˜ç‰ˆæœ¬
- **pnpm** æ¨èçš„åŒ…ç®¡ç†å™¨

### ğŸ”§ å®‰è£…ä¸é…ç½®

1. **å…‹éš†ä»“åº“**

   ```bash
   git clone https://github.com/your-username/bastion-brotherhood.git
   cd bastion-brotherhood
   ```

2. **åç«¯é…ç½®**

   ```bash
   cd server
   go mod download
   cp config/config.yaml.example config/config.yaml
   # æ ¹æ®éœ€è¦ä¿®æ”¹é…ç½®æ–‡ä»¶
   ```

3. **å‰ç«¯é…ç½®**
   ```bash
   cd frontend
   # å®‰è£…ä¾èµ–
   pnpm install
   # é…ç½®ç¯å¢ƒå˜é‡
   cp .env.development .env.development.local
   ```

### ğŸƒâ€â™‚ï¸ è¿è¡Œé¡¹ç›®

#### å¼€å‘ç¯å¢ƒ

**å¯åŠ¨åç«¯æœåŠ¡ï¼š**

```bash
cd server
go run main.go
```

**å¯åŠ¨å‰ç«¯å¼€å‘æœåŠ¡å™¨ï¼š**

```bash
cd frontend
pnpm dev
```

#### ç”Ÿäº§ç¯å¢ƒ

**æ„å»ºå‰ç«¯ï¼š**

```bash
cd frontend
pnpm build
# å¦‚æœä½ å¸Œæœ›è·³è¿‡ç±»å‹æ£€æŸ¥
pnpm build-only
```

**éƒ¨ç½²è„šæœ¬ï¼š**

```bash
chmod +x deploy.sh
./deploy.sh
```

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
bastion-brotherhood/
â”œâ”€â”€ ğŸ“„ README.md                    # é¡¹ç›®è¯´æ˜æ–‡æ¡£
â”œâ”€â”€ ğŸ“„ API.md                       # APIæ¥å£æ–‡æ¡£
â”œâ”€â”€ ğŸ“„ CHANGELOG.md                 # æ›´æ–°æ—¥å¿—
â”œâ”€â”€ ğŸ“„ DEPLOY.md                    # éƒ¨ç½²æŒ‡å—
â”œâ”€â”€ ğŸ”§ deploy.sh                    # éƒ¨ç½²è„šæœ¬
â”œâ”€â”€ ğŸ¨ frontend/                    # å‰ç«¯é¡¹ç›®
â”‚   â”œâ”€â”€ ğŸ“¦ package.json
â”‚   â”œâ”€â”€ âš™ï¸ vite.config.ts
â”‚   â”œâ”€â”€ ğŸ“ tsconfig.json
â”‚   â””â”€â”€ ğŸ“‚ src/
â”‚       â”œâ”€â”€ ğŸ¯ main.ts              # å…¥å£æ–‡ä»¶
â”‚       â”œâ”€â”€ ğŸ“± App.vue              # æ ¹ç»„ä»¶
â”‚       â”œâ”€â”€ ğŸ¨ assets/              # é™æ€èµ„æº
â”‚       â”œâ”€â”€ ğŸ§© components/          # å¯å¤ç”¨ç»„ä»¶
â”‚       â”œâ”€â”€ ğŸª hooks/               # è‡ªå®šä¹‰Hook
â”‚       â”œâ”€â”€ ğŸ—‚ï¸ layout/              # å¸ƒå±€ç»„ä»¶
â”‚       â”œâ”€â”€ ğŸŒ network/             # ç½‘ç»œè¯·æ±‚
â”‚       â”œâ”€â”€ ğŸ§­ router/              # è·¯ç”±é…ç½®
â”‚       â”œâ”€â”€ ğŸ—ƒï¸ store/               # çŠ¶æ€ç®¡ç†
â”‚       â”œâ”€â”€ ğŸ“„ views/               # é¡µé¢ç»„ä»¶
â”‚       â””â”€â”€ ğŸ› ï¸ utils/               # å·¥å…·å‡½æ•°
â””â”€â”€ âš™ï¸ server/                     # åç«¯é¡¹ç›®
    â”œâ”€â”€ ğŸ“‹ go.mod                   # Goæ¨¡å—æ–‡ä»¶
    â”œâ”€â”€ ğŸ¯ main.go                  # å…¥å£æ–‡ä»¶
    â”œâ”€â”€ âš™ï¸ config/                  # é…ç½®æ–‡ä»¶
    â”œâ”€â”€ ğŸ® controllers/             # æ§åˆ¶å™¨
    â”œâ”€â”€ ğŸ—„ï¸ database/               # æ•°æ®åº“é…ç½®
    â”œâ”€â”€ ğŸ“ log/                     # æ—¥å¿—æ¨¡å—
    â”œâ”€â”€ ğŸ”§ middleware/              # ä¸­é—´ä»¶
    â”œâ”€â”€ ğŸ“Š models/                  # æ•°æ®æ¨¡å‹
    â””â”€â”€ ğŸ›£ï¸ routes/                 # è·¯ç”±é…ç½®
```

---

## ğŸ”Œ API æ¥å£

### ğŸ‘¥ äººå‘˜ç®¡ç†æ¥å£

| æ–¹æ³•     | ç«¯ç‚¹               | æè¿°             | è¯·æ±‚ä½“     |
| -------- | ------------------ | ---------------- | ---------- |
| `GET`    | `/api/persons`     | è·å–äººå‘˜åˆ—è¡¨     | -          |
| `GET`    | `/api/persons/:id` | è·å–å•ä¸ªäººå‘˜ä¿¡æ¯ | -          |
| `POST`   | `/api/persons`     | åˆ›å»ºæ–°äººå‘˜       | `FormData` |
| `PUT`    | `/api/persons/:id` | æ›´æ–°äººå‘˜ä¿¡æ¯     | `FormData` |
| `DELETE` | `/api/persons/:id` | åˆ é™¤äººå‘˜         | -          |

### ğŸ“ è¯·æ±‚ç¤ºä¾‹

#### åˆ›å»ºäººå‘˜

```bash
curl -X POST http://localhost:8080/api/persons \
  -F "name=å¼ ä¸‰" \
  -F "realname=å¼ ä¸‰" \
  -F "phone=13800138000" \
  -F "email=zhangsan@example.com" \
  -F "avatar=@/path/to/avatar.jpg"
```

#### è·å–äººå‘˜åˆ—è¡¨

```bash
curl -X GET http://localhost:8080/api/persons
```

---

## ğŸ“Š æ•°æ®åº“è®¾è®¡

### ğŸ‘¤ äººå‘˜è¡¨ (persons)

| å­—æ®µ          | ç±»å‹       | è¯´æ˜                | çº¦æŸ        |
| ------------- | ---------- | ------------------- | ----------- |
| `id`          | `string`   | ä¸»é”® ID (Snowflake) | PRIMARY KEY |
| `name`        | `string`   | ç”¨æˆ·å              | NOT NULL    |
| `realname`    | `string`   | çœŸå®å§“å            | NOT NULL    |
| `avatar_blob` | `blob`     | å¤´åƒæ•°æ®            | -           |
| `phone`       | `string`   | æ‰‹æœºå·              | UNIQUE      |
| `wechat`      | `string`   | å¾®ä¿¡å·              | -           |
| `position`    | `string`   | èŒä½                | -           |
| `email`       | `string`   | é‚®ç®±åœ°å€            | UNIQUE      |
| `region`      | `string`   | åœ°åŒº                | -           |
| `created_at`  | `datetime` | åˆ›å»ºæ—¶é—´            | AUTO        |
| `updated_at`  | `datetime` | æ›´æ–°æ—¶é—´            | AUTO        |
| `deleted_at`  | `datetime` | åˆ é™¤æ—¶é—´            | SOFT DELETE |

---

## ğŸ›¡ï¸ å®‰å…¨ç‰¹æ€§

- **ğŸ”’ æ•°æ®éªŒè¯** - å‰åç«¯åŒé‡æ•°æ®éªŒè¯
- **ğŸš« SQL æ³¨å…¥é˜²æŠ¤** - ä½¿ç”¨ GORM é¢„ç¼–è¯‘è¯­å¥
- **ğŸ“ æ–‡ä»¶ä¸Šä¼ å®‰å…¨** - æ–‡ä»¶ç±»å‹å’Œå¤§å°é™åˆ¶
- **ğŸŒ CORS é…ç½®** - è·¨åŸŸè¯·æ±‚å®‰å…¨æ§åˆ¶
- **ğŸ“ æ—¥å¿—è®°å½•** - å®Œæ•´çš„æ“ä½œæ—¥å¿—è®°å½•

---

## ğŸ”§ é…ç½®è¯´æ˜

### åç«¯é…ç½® (`server/config/config.yaml`)

```yaml
server:
  port: 8080
  mode: debug

database:
  type: sqlite
  path: ./data/persons.db

minio:
  endpoint: localhost:9000
  access_key: minioadmin
  secret_key: minioadmin
  bucket: avatars

log:
  level: info
  filename: ./log/app.log
  max_size: 10
  max_backups: 5
  max_age: 30
```

### å‰ç«¯ç¯å¢ƒå˜é‡ (`frontend/.env.*`)

```env
VITE_API_BASE_URL=/api
VITE_API_SERVER_URL=http://localhost:8080
VITE_PROJECT_NAME=Bastion Brotherhood
```

---

## ğŸ§ª æµ‹è¯•

### å‰ç«¯æµ‹è¯•

```bash
cd frontend
pnpm test:unit        # è¿è¡Œå•å…ƒæµ‹è¯•
pnpm lint             # ä»£ç è§„èŒƒæ£€æŸ¥
pnpm type-check       # TypeScriptç±»å‹æ£€æŸ¥
```

### åç«¯æµ‹è¯•

```bash
cd server
go test ./...         # è¿è¡Œæ‰€æœ‰æµ‹è¯•
go test -v ./...      # è¯¦ç»†æµ‹è¯•è¾“å‡º
```

---

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–

- **âš¡ å‰ç«¯ä¼˜åŒ–**

  - Vite æ„å»ºä¼˜åŒ–å’Œä»£ç åˆ†å‰²
  - ç»„ä»¶æ‡’åŠ è½½å’ŒåŠ¨æ€å¯¼å…¥
  - å›¾ç‰‡å‹ç¼©å’Œå»¶è¿ŸåŠ è½½
  - CSS åŸå­åŒ–å’ŒæŒ‰éœ€åŠ è½½

- **ğŸš€ åç«¯ä¼˜åŒ–**
  - GORM æŸ¥è¯¢ä¼˜åŒ–å’Œè¿æ¥æ± 
  - å“åº”æ•°æ®å‹ç¼©
  - é™æ€æ–‡ä»¶ç¼“å­˜
  - æ•°æ®åº“ç´¢å¼•ä¼˜åŒ–

---

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

---

## ğŸ™ è‡´è°¢

- [Vue.js](https://vuejs.org) - æ¸è¿›å¼ JavaScript æ¡†æ¶
- [Go](https://golang.org) - ç®€æ´é«˜æ•ˆçš„ç¼–ç¨‹è¯­è¨€
- [Tailwind CSS](https://tailwindcss.com) - å®ç”¨ä¼˜å…ˆçš„ CSS æ¡†æ¶
- [Gin](https://github.com/gin-gonic/gin) - é«˜æ€§èƒ½ Go Web æ¡†æ¶

---

<div align="center">

Made with â¤ï¸ by the Bastion Brotherhood Team

æ¬¢è¿æ¥åˆ°ä¸æœ½å ¡å’

</div>
