# éƒ¨ç½²è¯´æ˜

## ğŸš€ å¿«é€Ÿéƒ¨ç½²

### å‰ç½®æ¡ä»¶

ç¡®ä¿æœ¬åœ°ç¯å¢ƒå·²å®‰è£…ï¼š

- Go 1.21+
- Node.js 22+
- npm

### éƒ¨ç½²æ­¥éª¤

1. **æ‰§è¡Œéƒ¨ç½²è„šæœ¬**

   ```bash
   ./deploy.sh
   ```

2. **éƒ¨ç½²è¿‡ç¨‹**
   - æ„å»º Go åç«¯åº”ç”¨
   - æ„å»º Vue å‰ç«¯åº”ç”¨
   - æ¸…ç†æœåŠ¡å™¨æ—§æ•°æ®
   - ä¸Šä¼ æ–‡ä»¶åˆ°æœåŠ¡å™¨
   - é…ç½® Nginx åå‘ä»£ç†
   - å¯åŠ¨ systemd æœåŠ¡

### ğŸŒ è®¿é—®åœ°å€

- **å‰ç«¯ç•Œé¢**: http://49.233.41.155
- **åç«¯ API**: http://49.233.41.155/api

### ğŸ“‹ æœåŠ¡å™¨é…ç½®

- **æœåŠ¡å™¨**: 49.233.41.155
- **åç«¯æœåŠ¡è·¯å¾„**: /opt/gin-web-server
- **å‰ç«¯æ–‡ä»¶è·¯å¾„**: /var/www/gin-web-server
- **æœåŠ¡åç§°**: gin-web-server

### ğŸ”§ æœåŠ¡å™¨ç®¡ç†å‘½ä»¤

```bash
# æŸ¥çœ‹æœåŠ¡çŠ¶æ€
systemctl status gin-web-server

# å¯åŠ¨æœåŠ¡
systemctl start gin-web-server

# åœæ­¢æœåŠ¡
systemctl stop gin-web-server

# é‡å¯æœåŠ¡
systemctl restart gin-web-server

# æŸ¥çœ‹æ—¥å¿—
journalctl -u gin-web-server -f

# é‡æ–°åŠ è½½Nginxé…ç½®
systemctl reload nginx
```

### ğŸ“ æ–‡ä»¶ç»“æ„

```
æœåŠ¡å™¨æ–‡ä»¶ç»“æ„:
â”œâ”€â”€ /opt/gin-web-server/         # åç«¯åº”ç”¨
â”‚   â”œâ”€â”€ gin-web-server          # äºŒè¿›åˆ¶æ–‡ä»¶
â”‚   â””â”€â”€ data/                   # æ•°æ®ç›®å½•
â”‚       â””â”€â”€ persons.db          # SQLiteæ•°æ®åº“
â”œâ”€â”€ /var/www/gin-web-server/    # å‰ç«¯æ–‡ä»¶
â”‚   â”œâ”€â”€ index.html
â”‚   â”œâ”€â”€ assets/
â”‚   â””â”€â”€ ...
â””â”€â”€ /etc/nginx/sites-available/gin-web-server  # Nginxé…ç½®
```

### ğŸ§¹ æ•°æ®æ¸…ç†

éƒ¨ç½²è„šæœ¬ä¼šè‡ªåŠ¨æ¸…ç†ä»¥ä¸‹æ—§æ•°æ®ï¼š

- æ—§çš„é™æ€æ–‡ä»¶ (static, templates, uploads)
- æ—§çš„å‰ç«¯æ–‡ä»¶
- æ—§çš„ Nginx é…ç½®é“¾æ¥

**æ³¨æ„**: æ•°æ®åº“æ–‡ä»¶é»˜è®¤ä¼šä¿ç•™ï¼Œå¦‚éœ€æ¸…ç†è¯·æ‰‹åŠ¨åˆ é™¤æˆ–ä¿®æ”¹éƒ¨ç½²è„šæœ¬ã€‚

### ğŸ” æ•…éšœæ’æŸ¥

1. **æœåŠ¡æ— æ³•å¯åŠ¨**

   ```bash
   journalctl -u gin-web-server -n 50
   ```

2. **å‰ç«¯æ— æ³•è®¿é—®**

   ```bash
   nginx -t
   systemctl status nginx
   ```

3. **API è¯·æ±‚å¤±è´¥**
   ```bash
   curl http://localhost:8080/api/persons
   ```

### ğŸ”„ æ›´æ–°éƒ¨ç½²

é‡æ–°æ‰§è¡Œéƒ¨ç½²è„šæœ¬å³å¯ï¼š

```bash
./deploy.sh
```

### ğŸ“ æ³¨æ„äº‹é¡¹

1. ç¡®ä¿æœåŠ¡å™¨å·²å®‰è£… Nginx
2. ç¡®ä¿æœåŠ¡å™¨é˜²ç«å¢™å¼€æ”¾ 80 ç«¯å£
3. æ•°æ®åº“æ–‡ä»¶ä¼šè‡ªåŠ¨åˆ›å»ºåœ¨ `/opt/gin-web-server/data/` ç›®å½•
4. éƒ¨ç½²ä¼šè‡ªåŠ¨æ¸…ç†æ—§çš„é™æ€æ–‡ä»¶ï¼Œä½†ä¿ç•™æ•°æ®åº“æ–‡ä»¶
